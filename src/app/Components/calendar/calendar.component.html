<div class="calendar">
  <div class="calendar-header">
    <span>{{ currentDate | date: 'MMMM yyyy' }}</span>
  </div>
  <div class="calendar-grid">
    <div class="calendar-row calendar-days">
      <div *ngFor="let day of ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']" class="calendar-cell calendar-day">{{ day }}</div>
    </div>
    <div *ngFor="let week of weeks" class="calendar-row">
      <div *ngFor="let date of week" class="calendar-cell"
           [ngStyle]="{'background-color': getColorForIntensity(getMoodForDate(date)?.intensity)}"
           (click)="onDateClick(date)">
        {{ date.getDate() }}
      </div>
    </div>
  </div>
  <app-mood-modal *ngIf="showMoodModal && selectedDate"
                  [date]="selectedDate"
                  (moodSaved)="onMoodSaved()"
                  (close)="closeMoodModal()">
  </app-mood-modal>
</div>
